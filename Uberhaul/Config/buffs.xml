<Uberhaul>

<!-- START EXTRA_PERKS -->

<append xpath="/buffs/buff[@name='buffPerkAbilityUpdate']">
  <effect_group>
    <!-- perkAcrobatics -->
    <triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$parkourBonus" operation="add" value="0">
      <requirement name="ProgressionLevel" progression_name="perkAcrobatics" operation="Equals" value="0"/>
    </triggered_effect>
    <triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$parkourBonus" operation="add" value="0.01414">
      <requirement name="ProgressionLevel" progression_name="perkAcrobatics" operation="Equals" value="1"/>
    </triggered_effect>
    <triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$parkourBonus" operation="add" value="0.02828">
      <requirement name="ProgressionLevel" progression_name="perkAcrobatics" operation="Equals" value="2"/>
    </triggered_effect>
    <triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$parkourBonus" operation="add" value="0.04242">
      <requirement name="ProgressionLevel" progression_name="perkAcrobatics" operation="Equals" value="3"/>
    </triggered_effect>
    <triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$parkourBonus" operation="add" value="0.05656">
      <requirement name="ProgressionLevel" progression_name="perkAcrobatics" operation="Equals" value="4"/>
    </triggered_effect>
    <triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="$parkourBonus" operation="add" value="0.07070">
      <requirement name="ProgressionLevel" progression_name="perkAcrobatics" operation="Equals" value="5"/>
    </triggered_effect>

    <!-- perkHealingArts -->
    <triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="medicRegHealthIncreaseSpeed" operation="add" value="0.5">
      <requirement name="ProgressionLevel" progression_name="perkHealingArts" operation="Equals" value="1"/>
    </triggered_effect>
    <triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="medicRegHealthIncreaseSpeed" operation="add" value="0.9">
      <requirement name="ProgressionLevel" progression_name="perkHealingArts" operation="Equals" value="2"/>
    </triggered_effect>
    <triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="medicRegHealthIncreaseSpeed" operation="add" value="1.2">
      <requirement name="ProgressionLevel" progression_name="perkHealingArts" operation="Equals" value="3"/>
    </triggered_effect>
    <triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="medicRegHealthIncreaseSpeed" operation="add" value="1.4">
      <requirement name="ProgressionLevel" progression_name="perkHealingArts" operation="Equals" value="4"/>
    </triggered_effect>
    <triggered_effect trigger="onSelfBuffStack" action="ModifyCVar" cvar="medicRegHealthIncreaseSpeed" operation="add" value="1.5">
      <requirement name="ProgressionLevel" progression_name="perkHealingArts" operation="Equals" value="5"/>
    </triggered_effect>

    <!-- Max Bleeding Stacks -->
    <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$maxBleedCounter" operation="add" value="4">
      <requirement name="ProgressionLevel" progression_name="perkBladeMastery" operation="Equals" value="5"/>
    </triggered_effect>
    <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$maxBleedCounter" operation="add" value="8">
      <requirement name="ProgressionLevel" progression_name="perkBladeMastery" operation="Equals" value="10"/>
    </triggered_effect>

  </effect_group>
</append>

<!-- END EXTRA_PERKS -->

</Uberhaul>